# VigilantBSP

## Author
(c) 2022-2025 VigilantDoomer

## Description

VigilantBSP is a multi-threaded polyobject-aware
node / blockmap / reject builder (also called "nodebuilder" for 
brevity) for Doom / Doom 2 / Heretic / Hexen. 

It is being developed for Windows and GNU/Linux operating system on
both x86 (32-bit) and x86-64 (64-bit) platforms.

## Project goals

VigilantBSP intends to fulfill several ambitious goals:

1. Fast build times for maps without sacrificing support for 
special effects like self-referencing sectors. Use parallelism
where possible to achieve faster builds on multi-core computers.
2. Support for Heretic and Hexen games being as robust as support
for Doom / Doom 2.
3. Features that help get maps within vanilla limits are researched
and implemented, without getting in the way of support for maps 
targeting advanced engines (Boom, etc.)
4. Make self-referencing sector effects easy to use for mappers.
Default settings should already support self-referencing sector
effects very well. Monsters in self-referencing sectors shall
be able to see, hear and attack the player.
5. Special effects provided by other nodebuilders (horizon effect
and "precious" linedefs from BSP v5.2, faster scrollers from 
ZokumBSP) are also implemented.

In future, support for GL nodes / UDMF format is indeed planned,
just not there yet.

Partial support for RMB effects is already implemented since
version 0.74a. Eventually, most RMB effects are going to be
supported.

Since 0.75a, VigilantBSP can output non-GL nodes in Zdoom 
extended and compressed nodes format besides vanilla and
DeeP format. 

## Debt of gratitude

VigilantBSP is indebted to other free/libre software nodebuilders
for their ideas and implementations, and intends to give back its
own ideas as well. This is achieved by using a free software license.

The list of nodebuilders and people whose work make it all possible
includes, but is not limited to:
DEU by Raphael Quinet, 
BSP v5.2 by Colin Reed, Lee Killough and other contributors to BSP (program),
ZDBSP by Marisa Heit, 
Zennode by Marc Rousseau,
Zokumbsp by Kim Roar Fold√∏y Hauge, et al
AJ-BSP by Andrew Apted, et al

## License
VigilantBSP is free software: you can redistribute it
and/or modify it under the terms of GNU General Public License
as published by the Free Software Foundation, either version 2 of
the License, or (at your option) any later version.

VigilantBSP is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with VigilantBSP (see file COPYING.txt). If not, see
<https://www.gnu.org/licenses/>.

## Usage

```
Usage: vigilantbsp {-options} filename.wad {-o output.wad}

See the documentation file README.txt for more information.

```

## Building from source

Use tagged releases of VigilantBSP to build from source,
as main branch may break things from time to time.

First you need to clone VigilantBSP into some directory:
git clone https://github.com/vigilantdoomer/vigilantbsp.git
creates vigilantbsp directory inside directory where you
ran that command. Cd into that directory.

To see tagged releases, use:
git tag --list

To switch to say, v0.91 tagged release, use:
git checkout v0.91

To switch back to main branch and track yet unreleased changes
to VigilantBSP:
git checkout main
git pull

You need to also install the programming environment (obviously)
for Go (also frequently called "golang" to make web search work).
On Debian GNU/Linux, this is done via the following command
(run as root):
apt install golang-go

Running "go build" in root directory of VigilantBSP then should
just work.

If you modify source code, you'll need to use "go generate" first,
followed by "go build", as some parts of code are generated from
others. Such autogenerated *.go files are distinguished by
a special comment:
"// Code generated from other source files. DO NOT EDIT."
as the very top line.
If you are not modifying VigilantBSP, the "go generate" step is
not required.

Using Makefile (and thus having make installed) is likewise not
required, it is used in preparing release and contains instructions
to build stripped VigilantBSP for multiple platforms at once (Go
is this good at cross-compilation, yes).

VigilantBSP v0.85a is the last version to build with Go 1.15.
All versions that'll succeed it will require Go 1.19 at the minimum,
which is the current version of Go for Debian Bookworm and
the last Go version to support Windows 7. I do not intend
to drop Windows 7 support, so this Go version will remain
supported for a long time.

It can be built with later versions of Go, you don't have to
downgrade. The change in how loops are compiled that was introduced
Go 1.22, doesn't affect VigilantBSP in so far as its go.mod says
it supports "go 1.19" version, as Go checks that version declaration
when it evaluates whether to keep old behavior. Go cares a lot about
compatibility, lookup "Go 1 compatibility promise" through any web
search engine of your choice.

Thus if you don't modify version statement in go.mod file, then later
versions of Go should not break your custom build of VigilantBSP.
Such limitation currently would present an issue if you want to
fork VigilantBSP in order to use libraries and features which are
only supported by newer version of Go. In future versions of
VigilantBSP, I will also address loops that would be affected by
this change, and the limitation not to change version requirement
in go.mod will be lifted.

VigilantBSP v0.91 is the last tagged version that can be built
without external dependencies (third-party libraries not distributed
with Go). Immediately after its release, the work on UDMF parser and
reject builder for UDMF will begin, which will introduce these
dependencies. The effect of that will be that air-gapped setups for
building VigilantBSP will become complicated, requiring the use of
"go mod vendor" from Internet-connected machine.

## Website / contact information

Currently the only way to contact me is on github. You can file
feature requests and bug reports via "Issues" tab of this repository.

I was away from development in later half of 2023 and for (almost) entire
2024 basically, but have resumed development of VigilantBSP in year 2025.

I'll try to setup accounts on Doomworld and Zdoom forums, but I'm not exactly
rushing until I've something new to show (must finish reject builder for UDMF
at least). I don't plan to engage with other Doom communities, definitely not
with those which have abysmal communication standards.

If I make Doom accounts, I will update this README. If you encountered someone
pretending to me but their account is not listed here, they're likely not me.
